# Работа с Docker

### Термины:
1. Image - образ.
2. Container - контейнер.

### Основы:
1. **Работающее приложение в Docker** - это совокупность запущенных контейнеров.
2. **Контейнер** - это мини-аналог виртуальной машины.
3. Чтобы поднять (запустить контейнер), нам необходим "установочный файл", коим является образ.
4. **Образ** - инструкция для запуска контейнера.
5. Образы хранятся в архивах - файлы расширения .tar, например, garnet.api.tar.
6. **Docker-compose** - оболочка над Docker для более простого и удобного взаимодействия.

### Основные команды Docker:
1. Список образов: `docker images`
2. Удалить образ <image id>: `docker rmi -f <image id>`
3. Загрузить образ <image name>: `docker load -i <image name>`
4. Список запущенных контейнеров: `docker ps`
5. Список всех контейнеров: `docker ps -a`

### Основные моменты Docker-compose:
1. Для выполнения команд docker-compose необходимо перейти в нужную директорию, например: `cd /opt/agate/agate`
2. Как правило, для конфигурации используется **.env-файл**.
3. Как правило, в каждом из продуктов (diamond, agate, garnet, nephrite) существуют скрипты по установке/обновлению приложения. Запуск скрипта: `bash <название скрипта.sh>`
4. Запуск приложения: `docker-compose up -d`
5. Просмотр логов приложения: `docker-compose logs -f`
6. Остановка приложения: `docker-compose down`